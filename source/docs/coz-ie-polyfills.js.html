<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: coz-ie-polyfills.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: coz-ie-polyfills.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Function to add polyfills for IE
 * @param {string} event name of event to be fired
 * @param {object} params event parameters {bubbles: false, cancelable: false, detail: undefined}
 * @returns {function} CustomEvents(event, params)
 */
function addIEPolyfills() {
  if (typeof window.CustomEvent === "function") return false; //If not IE

  // https://tc39.github.io/ecma262/#sec-array.prototype.includes
  if (!Array.prototype.includes) {
    Object.defineProperty(Array.prototype, 'includes', {
      value: function (searchElement, fromIndex) {

        if (this == null) {
          throw new TypeError('"this" is null or not defined');
        }

        // 1. Let O be ? ToObject(this value).
        var o = Object(this);

        // 2. Let len be ? ToLength(? Get(O, "length")).
        var len = o.length >>> 0;

        // 3. If len is 0, return false.
        if (len === 0) {
          return false;
        }

        // 4. Let n be ? ToInteger(fromIndex).
        //    (If fromIndex is undefined, this step produces the value 0.)
        var n = fromIndex | 0;

        // 5. If n â‰¥ 0, then
        //  a. Let k be n.
        // 6. Else n &lt; 0,
        //  a. Let k be len + n.
        //  b. If k &lt; 0, let k be 0.
        var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);

        function sameValueZero(x, y) {
          return x === y || (typeof x === 'number' &amp;&amp; typeof y === 'number' &amp;&amp; isNaN(x) &amp;&amp; isNaN(y));
        }

        // 7. Repeat, while k &lt; len
        while (k &lt; len) {
          // a. Let elementK be the result of ? Get(O, ! ToString(k)).
          // b. If SameValueZero(searchElement, elementK) is true, return true.
          if (sameValueZero(o[k], searchElement)) {
            return true;
          }
          // c. Increase k by 1. 
          k++;
        }

        // 8. Return false
        return false;
      }
    });
  }

  if (!String.prototype.startsWith) {
    String.prototype.startsWith = function (searchString, position) {
      position = position || 0;
      return this.indexOf(searchString, position) === position;
    };
  }

  function CustomEvent(event, params) {
    params = params || {
      bubbles: false,
      cancelable: false,
      detail: undefined
    };
    var evt = document.createEvent('CustomEvent');
    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
    return evt;
  }

  CustomEvent.prototype = window.Event.prototype;

  window.CustomEvent = CustomEvent;
};

addIEPolyfills();</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="mglStreetViewControl.html">mglStreetViewControl</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addIEPolyfills">addIEPolyfills</a></li><li><a href="global.html#checkedToggleLayers">checkedToggleLayers</a></li><li><a href="global.html#cozSidebarToggleControl">cozSidebarToggleControl</a></li><li><a href="global.html#createStory">createStory</a></li><li><a href="global.html#genId">genId</a></li><li><a href="global.html#getJSON">getJSON</a></li><li><a href="global.html#getLayers">getLayers</a></li><li><a href="global.html#getParent">getParent</a></li><li><a href="global.html#getQuery">getQuery</a></li><li><a href="global.html#hasLayer">hasLayer</a></li><li><a href="global.html#highlight">highlight</a></li><li><a href="global.html#highlightAddFeature">highlightAddFeature</a></li><li><a href="global.html#highlightClearFeature">highlightClearFeature</a></li><li><a href="global.html#highlightLayerPaint">highlightLayerPaint</a></li><li><a href="global.html#highlightReset">highlightReset</a></li><li><a href="global.html#mapAddLayers">mapAddLayers</a></li><li><a href="global.html#mapCheckRendered">mapCheckRendered</a></li><li><a href="global.html#mapGetInfo">mapGetInfo</a></li><li><a href="global.html#mapillaryLayers">mapillaryLayers</a></li><li><a href="global.html#mapMeasureControl">mapMeasureControl</a></li><li><a href="global.html#mapSelectOnLoad">mapSelectOnLoad</a></li><li><a href="global.html#RulerControl">RulerControl</a></li><li><a href="global.html#showBoundingBox">showBoundingBox</a></li><li><a href="global.html#streetViewIcon">streetViewIcon</a></li><li><a href="global.html#updateQueryStringParam">updateQueryStringParam</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Fri Jan 22 2021 13:54:41 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
